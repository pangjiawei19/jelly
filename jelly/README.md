# Jelly
 
Demo-果冻消除（服务器端）

1.Demo使用MySQL做持久化存储，数据库脚本：resources/sql/jelly.sql

2.Demo通过JDBC连接MySQL，配置文件：resources/jdbc.properties

3.Demo为了简单起见，没有使用连接池，每次DB操作都会创建一个新连接，用完关闭，后续优化可加入连接池

4.Demo为了简单起见，对于DB的多个操作没有使用事务，后续优化可以加入事务

5.所有SQL执行都使用PreparedStatement，提高效率并防止sql注入

6.单服唯一sessionId生成机制，使用系统时间+随机后缀先尽可能减少冲突，再通过数据库主键保证唯一性，当插入相同主键时会捕获异常重新生成sessionId，再次进行尝试。同服可以使用redis维护自增id结合其他策略保证唯一性

7.针对同一个sessionId对应游戏的操作，会对sessionId字符串进行加锁，通过对String的intern()获得的对象加锁保证加锁的对象是同一个

8.程序对请求参数均进行了有效性校验，具体游戏逻辑按照需求实现

9.程序使用数值标记一个格子，即根据行列按公式计算出一个数值来表示，依次减少内存对象

10.初始布局会在第一次启动时创建并存储至数据库，再次启动不会重复创建